(function(){"use strict";angular.module("builder",["ui.router","validator","summernote","ui.sortable","ui.tree","cgNotify","localytics.directives","builder.constant","builder.config","builder.provider","builder.service","builder.controller","builder.directive"]).run(["$rootScope","notify","FormRestService","$injector",function(e,t,n,o){e.progressNum=0,e.showProgress=function(t){e.progressNum++,t&&e.showSuccessMsg(t)},e.hideProgressBySuccess=function(t){e.hideProgress(t,"notify-success")},e.hideProgressByError=function(t){e.hideProgress(t,"notify-error")},e.hideProgress=function(t,n){e.progressNum--,t&&(n&&null!=n?e.showMsg(t,2e3,n):e.showErrorMsg(t))},e.showSuccessMsg=function(t){e.showMsg(t,1500,"notify-success")},e.showErrorMsg=function(t){e.showMsg(t,3e3,"notify-error")},e.showMsg=function(e,n,o){t({message:e,duration:n,position:"center",classes:o})};const r=o.get("$builder");r.forms.id="root",r.forms.selectedComponent={},r.forms.fields={},n.getStencilSet().success(function(t){e.mainTitle=t.title,e.mainDescription=t.description,angular.forEach(t.propertyPackages,function(e){r.registerPropertyPackage(e)}),angular.forEach(t.components,function(e){r.registerComponent(e)}),angular.forEach(t.groups,function(e){r.registerGroup(e)})}),e.filterSaveComponents=function(t){var n=[];return angular.forEach(t,function(t){const o={};o.id=t.id,o.arrayValue=t.arrayValue,o.properties=t.properties,o.value=t.value,t.forms.length>0&&(o.forms=[],angular.forEach(t.forms,function(t,n){o.forms[n]={},o.forms[n].components=e.filterSaveComponents(t.components)})),n.push(o)}),n},e.filterGetComponents=function(t){let n=[];return angular.forEach(t,function(t){let o=r.components[t.id];if(angular.isUndefined(o))return;let i=angular.copy(o);if(i.arrayValue=t.arrayValue,i.properties=t.properties,i.value=t.value,angular.isDefined(o.properties.field)){let e=t.properties.field;if(angular.isUndefined(r.forms.fields[e]))return;r.setField(i,r.forms.fields[e])}t.forms&&t.forms.length>0&&angular.forEach(t.forms,function(t,n){i.forms[n]={},i.forms[n].components=e.filterGetComponents(t.components)}),n.push(i)}),n}}]).filter("to_trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}])}).call(this),function(){"use strict";angular.module("builder.config",[]).config(["$validatorProvider",function(e){return e.register("required",{invoke:"watch",validator:/.+/,error:"字段必填."}),e.register("number",{invoke:"watch",validator:/^[-+]?[0-9]*[\.]?[0-9]*$/,error:"字段必须是数字."}),e.register("email",{invoke:"blur",validator:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,error:"字段必须是邮件."}),e.register("url",{invoke:"blur",validator:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,error:"字段必须是网址."})}]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/design"),e.state("design",{url:"/design?modelId&token",data:{pageTitle:["表单设计器"]},templateUrl:"views/fb-design.html"}).state("watch",{url:"/watch?modelId&formDefinitionId&formLayoutKey&token",data:{pageTitle:["表单明细查看"]},templateUrl:"views/fb-watch.html"}).state("work",{url:"/work?formDefinitionId&formLayoutKey&formInstanceId&disable&token",data:{pageTitle:["表单录入"]},templateUrl:"views/fb-work.html"})}])}.call(this),function(){"use strict";angular.module("builder.controller",[]).controller("fbWorkController",["$scope","$injector","$stateParams","$timeout","FormRestService",function(e,t,n,o,r){e.workForms=t.get("$builder").forms,e.formData={},e.workForms.disable=!1,r.getDefinitionJson().success(function(t){angular.forEach(t.fields,function(t){e.workForms.fields[t.key]=t}),o(function(){e.workForms.components=e.filterGetComponents(angular.fromJson(t.json))},10)}),n.disable&&(e.workForms.disable=!0),null!=n.formInstanceId?(r.getInstance().success(function(t){e.formData=t}),e.saveFormData=function(t){r.updateInstance(e.formData).success(function(n){e.showSuccessMsg("保存表单成功"),t(n)})}):e.saveFormData=function(t){let o={formDefinitionId:n.formDefinitionId,formData:e.formData};r.createInstance(o).success(function(e){t(e)})},window.saveFormData=function(t){e.$apply(function(){e.saveFormData(t)})}}]).controller("fbWatchController",["$scope","$injector","$timeout","$stateParams","FormRestService",function(e,t,n,o,r){e.previewForms=t.get("$builder").forms,angular.isDefined(o.modelId)?r.getModelJson().success(function(t){e.dealDate(t)}):r.getDefinitionJson().success(function(t){e.dealDate(t)}),e.dealDate=function(t){angular.forEach(t.fields,function(t){e.previewForms.fields[t.key]=t}),n(function(){e.previewForms.components=e.filterGetComponents(angular.fromJson(t.json))},10)},e.saveFormData=function(){let t={formDefinitionId:o.formDefinitionId,formData:e.formData};r.createInstance(t).success(function(e){})},window.saveFormData=function(){e.$apply(function(){e.saveFormData()})}}]).controller("fbDesignController",["$scope","$injector","$timeout","FormRestService",function(e,t,n,o){e.leftCollapsed=!1,e.rightCollapsed=!1,e.navActive="editForm",e.editForms=t.get("$builder").forms,e.editForm=function(){e.navActive="editForm"},e.previewForm=function(){e.navActive="previewForm",e.previewForms=angular.copy(e.editForms),e.formData={}},e.saveForm=function(){o.saveModelJson(e.filterSaveComponents(e.editForms.components))},e.clearForm=function(){e.editForms.components=[],e.editForms.selectedComponent={},e.editForm()},e.fixSize=function(){jQuery(".sidebar-nav").css("height",$(window).height()-$("#navbar").height()-1),jQuery(".nav-body").css("height",$(window).height()-$("#navbar").height()-$(".nav-title").height()-21),jQuery(".fb-builder").css("height",$(window).height()-$("#navbar").height()-20)},angular.element(window).bind("resize",function(){e.fixSize()}),o.getModelJson().success(function(t){angular.forEach(t.fields,function(t){e.editForms.fields[t.key]=t}),n(function(){e.editForms.components=e.filterGetComponents(angular.fromJson(t.json))},10)})}]).controller("fbBuilderController",["$scope","$injector","$timeout",function(e,t,n){e.builderForms=t.get("$builder").forms,e.selectComponent=function(t,o){o.stopPropagation(),t!==e.builderForms.selectedComponent&&(e.builderForms.selectedComponent={},n(function(){e.builderForms.selectedComponent=t}))},e.removeComponent=function(t,n){let o=t.components.splice(n,1);e.builderForms.selectedComponent===o[0]&&(e.builderForms.selectedComponent={})},e.copyComponent=function(e,t,n){n.stopPropagation();let o=e.components.indexOf(t);o>-1&&e.components.splice(o+1,0,angular.copy(t))},e.sortableOptions={connectWith:".column",handle:".drag"}}]).controller("fbComponentsController",["$scope","$injector",function(e,t){let n=t.get("$builder");e.groups=n.groups,e.draggableOptions={connectWith:".column",helper:"clone",handle:".drag",start:function(e,t){t.helper.width(400),t.helper.addClass("fb-builder")},stop:function(t,o){if(jQuery(t.target).hasClass("nav-content")&&o.item.sortable.droptarget&&t.target!==o.item.sortable.droptarget[0]){o.item.sortable.sourceModel.splice(o.item.sortable.index,0,o.item.sortable.model);let t=angular.copy(o.item.sortable.model);if(angular.isDefined(t.properties.field))if(angular.equals({},n.forms.fields))e.$parent.showErrorMsg("没有配置字段，拉取的组件保存之后将会丢失");else{let e=n.forms.fields[Object.keys(n.forms.fields)[0]];n.setField(t,e)}o.item.sortable.droptargetModel.splice(o.item.sortable.dropindex,1,t)}}}}]).controller("fbComponentController",["$scope",function(e){e.changeColNum=function(){let t=e.component.value.split(" ",12),n=0;angular.forEach(t,function(e){n+=parseInt(e)}),12===n?(e.component.showButton=!0,e.component.arrayValue=t,e.component.forms=[],angular.forEach(e.component.arrayValue,function(t,n){e.component.forms[n]={},e.component.forms[n].components=[]})):(e.component.showButton=!1,console.info("input value sum not 12"))},"column"===e.component.type&&e.component.value&&e.changeColNum()}]).controller("fbPropertiesController",["$scope","$injector",function(e,t){e.builderForms=t.get("$builder").forms,e.$watch("builderForms.selectedComponent",function(){e.component=e.builderForms.selectedComponent}),e.summernoteConfig={lang:"zh-CN",height:250,toolbar:[["style",["style","fontsize","bold","italic","underline","clear"]],["para",["color","paragraph","undo","redo","codeview","fullscreen"]]]}}]).controller("fbFieldController",["$scope","$injector",function(e,t){e.changeField=function(){let n=e.builderForms.fields[e.component.properties.field];t.get("$builder").setField(e.component,n)}}]).controller("fbOptionsController",["$scope",function(e){e.component.properties.treeOptions?e.options=e.component.properties.treeOptions:e.options=e.component.properties.options,e.sortableOptions={handle:".glyphicon-move"},e.showValue=!1,e.changeShow=function(){e.showValue=!e.showValue},e.selectedOption={},e.selectOption=function(t){e.selectedOption=angular.copy(t)},e.changeOption=function(t){e.selectedOption.text!==e.selectedOption.value&&""!==e.selectedOption.value||(t.value=t.text),e.selectOption(t)},e.addOption=function(t){e.options.splice(t+1,0,{value:"",text:""})},e.removeOption=function(t){e.options.splice(t,1)},e.addTreeOption=function(e){e.$modelValue.children.push({text:"",value:"",children:[]})},e.removeTreeOption=function(e){e.remove()},e.toggle=function(e){e.toggle()},e.collapseAll=function(){e.$broadcast("angular-ui-tree:collapse-all")},e.expandAll=function(){e.$broadcast("angular-ui-tree:expand-all")},e.selectDefault=function(t,n){t.target.checked?e.component.arrayValue.push(n):e.component.arrayValue.splice(e.component.arrayValue.indexOf(n),1)}}])}.call(this),function(){"use strict";angular.module("builder.service",[]).service("FormRestService",["$rootScope","$http","$stateParams","restUrl",function(e,t,n,o){return{getStencilSet:function(){return t({method:"GET",url:o.getStencilSet()})},getModelJson:function(){return t({method:"GET",headers:{Token:n.token},url:o.getModelJson(n.modelId)}).error(function(t){e.showErrorMsg(t.msg)})},saveModelJson:function(r){return e.showProgress(),t({method:"PUT",headers:{Token:n.token},url:o.saveModelJson(n.modelId),data:r}).success(function(){e.hideProgressBySuccess("保存表单成功")}).error(function(t){e.hideProgressByError(t.msg)})},getDefinitionJson:function(){return t({method:"GET",headers:{Token:n.token},url:o.getDefinitionJson(n.formDefinitionId,n.formLayoutKey)}).error(function(t){e.showErrorMsg(t.msg)})},createInstance:function(r){return t({method:"POST",headers:{Token:n.token},url:o.createInstance(),data:r}).error(function(t){e.showErrorMsg(t.msg)})},updateInstance:function(r){return t({method:"PUT",headers:{Token:n.token},url:o.updateInstanceData(n.formInstanceId),data:r}).error(function(t){e.showErrorMsg(t.msg)})},getInstance:function(){return t({method:"GET",headers:{Token:n.token},url:o.getInstanceData(n.formInstanceId)}).error(function(t){e.showErrorMsg(t.msg)})}}}])}.call(this),function(){"use strict";let e=function(e,t,n,o){return o.$watch(n,function(n){if(!n)return;let r=e(n)(o);return $(t).html(r)})};angular.module("builder.directive",[]).directive("fbForm",[function(){return{restrict:"A",require:"ngModel",scope:{data:"=ngModel",forms:"=fbForm"},template:'<fieldset ng-disabled="forms.disable"><div ng-repeat="component in forms.components"><div fb-form-object="component"></div></div></div>'}}]).directive("fbFormObject",["$compile",function(t){return{restrict:"A",scope:{component:"=fbFormObject"},link:function(n,o){n.data=n.$parent.data||{},n.showForm=!0;let r=["checkbox","select","multiple-select"],i=n.component.properties.overrideId;return i&&(r.indexOf(n.component.id)<0?(n.$watch("data['"+i+"']",function(e){angular.isUndefined(e)||n.component.value!==e&&(n.component.value=e)}),n.$watch("component.value",function(e){n.data[i]!==e&&(n.data[i]=e)})):(n.changeDataFlag=!1,n.changeValueFlag=!1,n.$watch("data['"+i+"']",function(e){if(angular.isUndefined(e))return;if(n.changeDataFlag)return void(n.changeDataFlag=!1);n.changeValueFlag=!0;let t=e.split(",");"checkbox"===n.component.id?angular.forEach(n.component.properties.options,function(e,o){n.component.arrayValue[o]=!1,angular.forEach(t,function(t){t===e.value&&(n.component.arrayValue[o]=!0)})}):"select"===n.component.id?angular.forEach(t,function(e,t){angular.forEach(n.component.arrayValue[t].children,function(o){e===o.value&&(n.component.arrayValue[t+1]=o)})}):"multiple-select"===n.component.id&&(n.component.arrayValue=[],angular.forEach(t,function(e,t){angular.forEach(n.component.properties.options,function(o){e===o.value&&(n.component.arrayValue[t]=o)})}))}),n.$watch("component.arrayValue",function(e){if(n.changeValueFlag)return void(n.changeValueFlag=!1);n.changeDataFlag=!0;let t=[];"checkbox"===n.component.id?angular.forEach(e,function(e,o){e&&t.push(n.component.properties.options[o].value)}):"select"===n.component.id?angular.forEach(e,function(e,o){o>0&&o<=n.component.properties.level&&e&&t.push(e.value)}):"multiple-select"===n.component.id&&angular.forEach(e,function(e){t.push(e.value)}),n.data[i]=t.join(",")},!0))),e(t,o,"component.template",n)}}}]).directive("fbBuilder",[function(){return{restrict:"A",scope:{forms:"=fbBuilder"},templateUrl:"views/directive/fb-builder.html",controller:"fbBuilderController",link:function(e,t){"root"===e.forms.id&&(t.children(":first").addClass("fb-builder"),angular.element(window).resize())}}}]).directive("fbBuilderObject",["$compile",function(t){return{restrict:"A",scope:{component:"=fbBuilderObject"},link:function(n,o){return e(t,o,"component.template",n)}}}]).directive("fbComponents",function(){return{restrict:"A",scope:{fbComponents:"="},templateUrl:"views/directive/fb-components.html",controller:"fbComponentsController"}}).directive("fbComponent",["$compile",function(t){return{restrict:"A",scope:{component:"=fbComponent"},controller:"fbComponentController",link:function(n,o){return e(t,o,"component.template",n)}}}]).directive("fbProperties",function(){return{restrict:"A",scope:{fbProperties:"="},templateUrl:"views/directive/fb-properties.html",controller:"fbPropertiesController"}}).directive("fbProperty",["$compile",function(t){return{restrict:"A",scope:!0,link:function(n,o,r){return n.property=n.$eval(r.fbProperty),e(t,o,"property.template",n)}}}]).directive("fbDynamicModel",["$compile",function(e){return{restrict:"A",priority:1,terminal:!0,link:function(t,n,o){let r=t.$eval(o.fbDynamicModel);o.ngModel!==r&&r&&(o.fbDynamicModelPre&&(r=r.indexOf(".")>=0?o.fbDynamicModelPre+"."+r:o.fbDynamicModelPre+"['"+r+"']"),o.fbDynamicModelSuf&&(r=r.indexOf(".")>=0?r+"."+o.fbDynamicModelSuf:r+"['"+o.fbDynamicModelSuf+"']"),n.attr("ng-model",r),""===r&&n.removeAttr("ng-model"),n.removeAttr("fb-dynamic-model"),n.unbind(),e(n)(t))}}}]).directive("fbPopover",[function(){return{restrict:"A",scope:{config:"=fbPopover"},link:function(e,t){let n=e.config||{};n.trigger=n.trigger||"hover",n.html=n.html||!0,n.title=n.title||"",n.content=n.content||"",n.placement=n.placement||"auto",t.popover(n)}}}]).directive("fbDatetime",function(){return{restrict:"A",link:function(e,t,n){let o=e.$eval(n.fbDatetime)||{};o.autoclose=o.autoclose||!0,o.todayBtn=o.todayBtn||!0,o.showSeconds=o.showSeconds||!0,o.language=o.language||"zh-CN",t.datetimepicker(o)}}}).directive("fbHtml",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(n,o,r){r.summernote||(n.fbHtmlConfig=n.$eval(r.fbHtml)||{},n.fbHtmlConfig.lang=n.fbHtmlConfig.lang||"zh-CN",n.$watch(r.ngDisabled,function(e){t(function(){e?o.summernote("disable"):o.summernote("enable")})}),o.removeAttr("fb-html"),o.attr("summernote",""),o.attr("config","fbHtmlConfig"),e(o)(n))}}}]).directive("fbFileInput",function(){return{restrict:"A",link:function(e,t,n){t.fileinput({language:"zh",uploadUrl:"#"}),e.$watch(n.ngDisabled,function(e){e?t.fileinput("disable"):t.fileinput("enable")}),e.$watch(n.fbFileInput,function(e){angular.isDefined(e)&&(((e=angular.copy(e)).allowedFileTypes.indexOf("all")>=0||0===e.allowedFileTypes.length)&&(e.allowedFileTypes=null),(e.allowedFileExtensions.indexOf("all")>=0||0===e.allowedFileExtensions.length)&&(e.allowedFileExtensions=null),t.fileinput("refresh",e))},!0)}}}).directive("fbLoad",function(){return{restrict:"A",templateUrl:"views/directive/fb-load.html",link:function(e,t){$(t).fadeIn(300)}}})}.call(this),function(){"use strict";var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]==e)return t;return-1};angular.module("builder.provider",[]).provider("$builder",function(){var t,n,o,r;n=null,t=null,o=null,this.forms={},this.groups=[],this.components={},this.propertyPackages={},this.convertProperty=function(e,t){var n,o,r,i,l;return(n={key:null!=(o=t.key)?o:"",title:null!=(r=t.title)?r:"",value:null!=(i=t.value)?i:"",description:null!=(l=t.description)?l:"",template:t.template,templateUrl:t.templateUrl}).name=e?e+"."+n.key:n.key,n.template||n.templateUrl||console.error("The template is empty."),n},this.convertPropertyPackage=function(e){var t,n,o;return{id:null!=(t=e.id)?t:"",object:null!=(n=e.object)?n:null,properties:null!=(o=e.properties)?o:[]}},this.registerPropertyPackage=(r=this,function(e){var t=(e=e||{}).id;if(null==r.propertyPackages[t]){var o=r.convertPropertyPackage(e);angular.forEach(o.properties,function(e,t){var i=r.convertProperty(o.object,e);null!=n&&r.loadTemplate(i),o.properties[t]=i}),r.propertyPackages[t]=o}else console.error("The propertyPackage "+t+" was registered.")}),this.loadPropertyPackages=function(t){return function(n){var o=[];angular.forEach(n.propertyPackages,function(r,i){if(null!=t.propertyPackages[r]){var l=t.propertyPackages[r];if(e.call(o,l)<0){o.push(l);var s=null;l.object?(n.properties[l.object]={},s=n.properties[l.object]):s=n.properties,angular.forEach(l.properties,function(e,t){s[e.key]=e.value})}else console.error("The propertyPackage "+r+" was registered.")}else console.error("The propertyPackage "+r+" is not found.")}),n.propertyPackages=o}}(this),this.convertComponent=function(e){var t,n,o,r,i,l,s,a,p;return(t={id:null!=(n=e.id)?n:"",value:null!=(o=e.value)?o:null,arrayValue:null!=(r=e.arrayValue)?r:[],type:null!=(i=e.type)?i:"",forms:null!=(l=e.forms)?l:[],title:null!=(s=e.title)?s:"",propertyPackages:null!=(a=e.propertyPackages)?a:[],properties:null!=(p=e.properties)?p:{},template:e.template,templateUrl:e.templateUrl}).template||t.templateUrl||console.error("The template is empty."),t},this.registerComponent=function(e){return function(t){var o=(t=t||{}).id;if(null==e.components[o]){var r=e.convertComponent(t);e.components[o]=r,null!=e.propertyPackages&&e.loadPropertyPackages(r),null!=n&&e.loadTemplate(r)}else console.error("The component "+o+" was registered.")}}(this),this.loadComponents=function(t){return function(n){var o=[];angular.forEach(n.components,function(n){null!=t.components[n]?e.call(o,t.components[n])<0?o.push(t.components[n]):console.error("The component "+n+" was registered."):console.error("The component "+n+" is not found.")}),n.components=o}}(this),this.convertGroup=function(e){var t,n,o,r;return{id:null!=(t=e.id)?t:"",title:null!=(n=e.title)?n:"",description:null!=(o=e.description)?o:"",components:null!=(r=e.components)?r:[]}},this.registerGroup=function(t){return function(n){n=n||{};var o=t.convertGroup(n);t.loadComponents(o),e.call(t.groups,o)<0?t.groups.push(o):console.error("The group "+n.id+" was registered.")}}(this),this.setupProviders=function(e){return t=(n=e).get("$http"),o=n.get("$templateCache")},this.loadTemplate=function(e){null==e.template&&t.get(e.templateUrl,{cache:o}).success(function(t){return e.template=t})},this.setField=function(e,t){e.properties.field=t.key,e.properties.overrideId=t.key,e.properties.label=t.name,e.properties.description=t.remark},this.$get=["$injector",function(e){return function(t){return e.setupProviders(t),{forms:e.forms,groups:e.groups,components:e.components,propertyPackages:e.propertyPackages,registerGroup:e.registerGroup,registerComponent:e.registerComponent,registerPropertyPackage:e.registerPropertyPackage,setField:e.setField}}}(this)]})}.call(this),function(){"use strict";angular.module("builder.constant",[]).constant("restUrl",{getModelJson:function(e){return"http://work.plumdo.com/form-service/form-layouts/"+e+"/json"},saveModelJson:function(e){return"http://work.plumdo.com/form-service/form-layouts/"+e+"/json"},getDefinitionJson:function(e,t){return"http://work.plumdo.com/form-service/form-definitions/"+e+"/"+t+"/json"},createInstance:function(){return"http://work.plumdo.com/form-service/form-instances"},updateInstanceData:function(e){return"http://work.plumdo.com/form-service/form-instances/"+e+"/data"},getInstanceData:function(e){return"http://work.plumdo.com/form-service/form-instances/"+e+"/data"},getStencilSet:function(){return"./stencilset.json?version="+Date.now()}})}.call(this),angular.module("builder").run(["$templateCache",function(e){e.put("views/fb-design.html",'<div class="design" ng-class="{\'edit\': navActive==\'editForm\', \'preview\': navActive==\'previewForm\',\'sidebar-nav-left-collapsed\': leftCollapsed,\'sidebar-nav-right-collapsed\': rightCollapsed,}" ng-controller="fbDesignController">\r\n\t<nav class="navbar navbar-inverse navbar-fixed-top" id="navbar">\r\n\t\t<div class="container-fluid">\r\n\t\t\t<div class="navbar-header">\r\n\t\t\t\t<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu-layoutit" aria-expanded="false">\r\n\t\t\t\t\t<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<a class="navbar-brand" href="">{{mainTitle}}<small style="margin-left: 20px;">{{mainDescription}}</small>\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="collapse navbar-collapse" id="menu-layoutit">\r\n\t\t\t\t<ul class="nav navbar-nav">\r\n\t\t\t\t\t<li ng-class="{\'active\': navActive==\'editForm\'}"><a href="" ng-click="editForm()"><i class="glyphicon glyphicon-edit"></i>编辑</a></li>\r\n\t\t\t\t\t<li ng-class="{\'active\': navActive==\'previewForm\'}"><a href="" ng-click="previewForm()"><i class="glyphicon glyphicon-eye-open"></i>预览</a></li>\r\n\t\t\t\t\t<li ng-class="{\'active\': navActive==\'saveForm\'}" data-target="#saveModal" data-toggle="modal"><a href=""><i class="glyphicon glyphicon-share"></i>保存</a></li>\r\n\t\t\t\t\t<li ng-class="{\'active\': navActive==\'clearForm\'}"><a href="" ng-click="clearForm()"><i class="glyphicon glyphicon-trash"></i>清空</a></li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</nav>\r\n\r\n\t<div class="sidebar-nav sidebar-nav-left">\r\n\t\t<ul class="nav-title nav-list accordion-group">\r\n\t\t\t<li class="nav-header-top"><i class="glyphicon clickable" ng-click="leftCollapsed=!leftCollapsed" ng-class="{\'glyphicon-chevron-right\': leftCollapsed,\'pull-right glyphicon-chevron-left\': !leftCollapsed}"></i> 表单组件选取</li>\r\n\t\t</ul>\r\n\t\t<div class="nav-body" fb-components ng-show="!leftCollapsed"></div>\r\n\t</div>\r\n\r\n\t<div class="sidebar-nav sidebar-nav-right">\r\n\t\t<ul class="nav-title nav-list accordion-group">\r\n\t\t\t<li class="nav-header-top"><i class="glyphicon clickable" ng-click="rightCollapsed=!rightCollapsed" ng-class="{\'glyphicon-chevron-left\': rightCollapsed,\'glyphicon-chevron-right\': !rightCollapsed}"></i> 表单属性设置</li>\r\n\t\t</ul>\r\n\t\t<div class="nav-body" fb-properties ng-show="!rightCollapsed"></div>\r\n\t</div>\r\n\r\n\t<div class="content-view">\r\n\t\t<form fb-builder="editForms" ng-if="navActive==\'editForm\'"></form>\r\n\t\t<form fb-form="previewForms" ng-if="navActive==\'previewForm\'" ng-model="formData"></form>\r\n\t</div>\r\n\r\n\r\n\t<div class="modal fade confirm" role="dialog" id="saveModal">\r\n\t\t<div class="modal-dialog" style="width:575px">\r\n\t\t\t<div class="modal-content">\r\n\t\t\t\t<div class="modal-header">\r\n\t\t\t\t\t<a class="close" data-dismiss="modal">×</a> <i class="glyphicon glyphicon-question-sign modal-icon"></i>\r\n\t\t\t\t\t<h5 class="modal-title">确认保存表单</h5>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="modal-footer no-margin-top">\r\n\t\t\t\t\t<button class="btn btn-default" data-dismiss="modal">取消</button>\r\n\t\t\t\t\t<button class="btn btn-success" ng-click="saveForm()" data-dismiss="modal">确定</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</div>\r\n\r\n'),e.put("views/fb-watch.html",'<div class="preview" ng-controller="fbWatchController">\r\n    <div class="content-view">\r\n        <form fb-form="previewForms" ng-model="formData">\r\n        </form>\r\n    </div>\r\n</div>\r\n\r\n'),e.put("views/fb-work.html",'<div class="preview" ng-controller="fbWorkController">\r\n  <div class="content-view">\r\n    <form fb-form="workForms" ng-model="formData">\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n'),e.put("views/directive/fb-builder.html",' <div class="column ui-sortable" ui-sortable="sortableOptions" ng-model="forms.components">\r\n\t<div ng-repeat="component in forms.components">\r\n\t\t<div class="ui-draggable lyrow" ng-click="selectComponent(component,$event)" ng-mouseenter="hover = true" ng-mouseleave="hover = false"\r\n\t\t\tng-class="{\'box\': component.type!=\'column\',\'hover\':hover&&component.type!=\'column\',\'focused\': builderForms.selectedComponent===component}" >\r\n\t\t\t<span class="drag label label-default">\r\n\t\t\t\t<i class="glyphicon glyphicon-move icon-black"></i>拖动\r\n\t\t\t</span>\r\n\t\t\t\r\n\t\t\t<a ng-click="copyComponent(forms,component,$event)" class="copy label label-success">\r\n\t\t\t\t<i class="glyphicon glyphglyphicon glyphicon-plus icon-white"></i>复制\r\n\t\t\t</a>\r\n\t\t\t<a ng-click="removeComponent(forms,$index)" class="remove label label-danger">\r\n\t\t\t\t<i class="glyphicon glyphglyphicon glyphicon-remove icon-white"></i>删除\r\n\t\t\t</a>\r\n\t\t\t\r\n\t\t\t<div fb-builder-object="component"></div>\r\n\t\t\t\r\n\t\t\t<div ng-if="component.type!=\'column\'" class="handle"></div>\r\n\t\t</div>\r\n    </div>\r\n</div>'),e.put("views/directive/fb-components.html",'<ul class="nav-list accordion-group" ng-repeat="group in groups">\r\n\t<li class="nav-header" ng-click="group.expanded = !group.expanded">\r\n\t\t<i class="glyphicon icon-white" ng-class="{\'glyphicon-chevron-right\': !group.expanded, \'glyphicon-chevron-down\': group.expanded}"></i>\r\n\t\t{{group.title}}\r\n\t\t<div class="pull-right" fb-popover="{title:\'关于\'+group.title, content:group.description,placement:\'right\'}">\r\n\t\t\t<i class="glyphicon glyphicon-question-sign icon-black clickable"></i>\r\n        </div>\r\n\t</li>\r\n\r\n\t\x3c!-- Group components --\x3e\r\n\t<li class="nav-content" ng-show="group.expanded" ui-sortable="draggableOptions" ng-model="group.components">\r\n\t\t<div ng-repeat="component in group.components" ng-class="{true :\'lyrow\', false :\'box\'}[component.type==\'column\']" ng-init="component.showButton=true">\r\n\t\t\t<span class="drag label label-default" ng-show="component.showButton"> \r\n\t\t\t\t<i class="glyphicon glyphicon-move icon-black"></i>拖动\r\n\t\t\t</span>\r\n\t\t\t<div fb-component="component"></div>\r\n\t\t</div>\r\n\t</li>\r\n</ul>\r\n\r\n'),e.put("views/directive/fb-load.html",'<div class="folat" ng-show="progressNum>0">\r\n\t<div class="sk-spinner-wave">\r\n\t\t<div class="sk-rect1"></div>\r\n\t\t<div class="sk-rect2"></div>\r\n\t\t<div class="sk-rect3"></div>\r\n\t\t<div class="sk-rect4"></div>\r\n\t\t<div class="sk-rect5"></div>\r\n\t</div>\r\n</div>'),e.put("views/directive/fb-properties.html",'<ul class="nav-list accordion-group">\r\n    <li class="nav-content rows">\r\n    \t<div ng-repeat="propertyPackage in component.propertyPackages">\r\n\t\t    <div class="form-group"  ng-repeat="property in propertyPackage.properties">\r\n\t\t\t\t<label>{{property.title}}</label> \r\n\t\t\t\t<div class="pull-right" fb-popover="{title:\'关于\'+property.title, content:property.description,placement:\'left\'}">\r\n\t\t\t\t\t<i class="glyphicon glyphicon-question-sign clickable"></i>\r\n\t\t        </div>\r\n\t\t\t\t<div fb-property="property"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</li>\r\n</ul>'),e.put("views/property/property-alert.html",'<select class="form-control" ng-model="component.properties.alert">\r\n  <option value="success">成功</option>\r\n  <option value="warning">警告</option>\r\n  <option value="info">提示</option>\r\n  <option value="danger">错误</option>\r\n</select>'),e.put("views/property/property-alignment.html",'<select class="form-control" ng-model="component.properties.alignment">\r\n   <option value="text-left">靠左</option>\r\n   <option value="text-center">居中</option>\r\n   <option value="text-right">靠右</option>\r\n</select>'),e.put("views/property/property-allowed-file-extensions.html",'<select chosen multiple class="form-control" \r\n\tplaceholder-text-multiple="\'选择允许的文件后缀名\'"\r\n\tno-results-text="\'没有结果匹配\'" ng-model="component.properties.fileOptions.allowedFileExtensions" >\r\n  <option value="all">所有</option>\r\n  <option value="jpg">jpg</option>\r\n  <option value="bmp">bmp</option>\r\n  <option value="gif">gif</option>\r\n  <option value="pic">pic</option>\r\n  <option value="png">png</option>\r\n  <option value="tif">tif</option>\r\n  <option value="txt">txt</option>\r\n  <option value="doc">doc</option>\r\n  <option value="html">html</option>\r\n  <option value="pdf">pdf</option>\r\n  <option value="rar">rar</option>\r\n  <option value="zip">zip</option>\r\n  <option value="avi">avi</option>\r\n</select>'),e.put("views/property/property-allowed-file-types.html",'<select multiple chosen class="form-control" \r\n\tplaceholder-text-multiple="\'选择允许的文件类型\'"\r\n\tno-results-text="\'没有结果匹配\'" ng-model="component.properties.fileOptions.allowedFileTypes" >\r\n  <option value="all">所有</option>\r\n  <option value="image">image</option>\r\n  <option value="bmp">bmp</option>\r\n  <option value="text">text</option>\r\n  <option value="video">video</option>\r\n  <option value="audio">audio</option>\r\n  <option value="flash">flash</option>\r\n  <option value="object">object</option>\r\n  <option value="html">html</option>\r\n</select>'),e.put("views/property/property-columns.html",'<select class="form-control" ng-model="component.properties.columns">\r\n   <option value="1">一列</option>\r\n   <option value="2">两列</option>\r\n   <option value="3">三列</option>\r\n   <option value="4">四列</option>\r\n   <option value="auto">自动排列</option>\r\n</select>'),e.put("views/property/property-date-format.html",'<select class="form-control" ng-if="component.properties.dateOptions.minView==\'hour\'" ng-model="component.properties.dateOptions.format">\r\n  <option value="yyyy-mm-dd hh:ii:ss">yyyy-mm-dd hh:ii:ss</option>\r\n  <option value="yyyy/mm/dd hh:ii:ss">yyyy/mm/dd hh:ii:ss</option>\r\n  <option value="dd/mm/yyyy hh:ii:ss">dd/mm/yyyy hh:ii:ss</option>\r\n</select>\r\n<select class="form-control" ng-if="component.properties.dateOptions.minView==\'month\'" ng-model="component.properties.dateOptions.format">\r\n  <option value="yyyy-mm-dd">yyyy-mm-dd</option>\r\n  <option value="yyyy/mm/dd">yyyy/mm/dd</option>\r\n  <option value="dd/mm/yyyy">dd/mm/yyyy</option>\r\n</select>'),e.put("views/property/property-date-min-view.html",'<label class="radio-inline"> <input type="radio"\r\n\tng-model="component.properties.dateOptions.minView" value="month" />日期\r\n</label>\r\n<label class="radio-inline"> <input type="radio"\r\n\tng-model="component.properties.dateOptions.minView" value="hour" />时间\r\n</label>\r\n\r\n\r\n'),e.put("views/property/property-default-boolean.html",'<label class="radio-inline"> <input type="radio"\r\n\tfb-dynamic-model="property.name"\r\n\tfb-dynamic-model-pre="component.properties" ng-value="true" />是\r\n</label>\r\n<label class="radio-inline"> <input type="radio"\r\n\tfb-dynamic-model="property.name"\r\n\tfb-dynamic-model-pre="component.properties" ng-value="false" />否\r\n</label>'),e.put("views/property/property-default-content.html",'<textarea fb-dynamic-model="property.name" fb-dynamic-model-pre="component.properties" class="form-control" rows="3">\r\n</textarea>'),e.put("views/property/property-default-string.html",'<input fb-dynamic-model="property.name" fb-dynamic-model-pre="component.properties" class="form-control" type="text"></input>'),e.put("views/property/property-field.html",'<select class="form-control" ng-model="component.properties.field" ng-change="changeField()" ng-controller="fbFieldController">\r\n    <option ng-repeat="option in builderForms.fields" value="{{option.key}}">{{option.name}}</option>\r\n</select>\r\n\r\n\r\n\r\n\t\t\r\n\t\t\r\n\r\n\r\n\r\n'),e.put("views/property/property-html.html",'<div>\r\n\t<div summernote config="summernoteConfig" ng-model="component.properties.html"></div>\r\n</div>\r\n'),e.put("views/property/property-init-value.html",'<input ng-model="component.properties.initValue" ng-change="component.value=component.properties.initValue" class="form-control" type="text"></input>'),e.put("views/property/property-level.html",'<select class="form-control" ng-model="component.properties.level">\r\n   <option value="1">一级</option>\r\n   <option value="2">两级</option>\r\n   <option value="3">三级</option>\r\n   <option value="4">四级</option>\r\n</select>'),e.put("views/property/property-options.html",'<form class="form-inline" role="form" ng-controller="fbOptionsController">\r\n\t<span class="label label-default clickable"><i class="glyphicon glyphglyphicon glyphicon-edit icon-white"></i>批量编辑</span>\r\n\t<span class="label label-default clickable" ng-click="changeShow()" ng-if="!showValue"><i class="glyphicon glyphglyphicon glyphicon-eye-open icon-white"></i>显示值</span>\r\n\t<span class="label label-default clickable" ng-click="changeShow()" ng-if="showValue"><i class="glyphicon glyphglyphicon glyphicon-eye-close icon-white"></i>隐藏值</span>\r\n\t<h4 class="under-line"></h4>\r\n\t<div class="form-group option-text" ng-if="showValue"><label>选项内容</label></div>\r\n\t<div class="form-group option-value" ng-if="showValue"><label>选项值</label></div>\r\n\t<div ui-sortable="sortableOptions" ng-model="component.properties.options">\r\n\t\t<div ng-repeat="item in component.properties.options">\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<div class="input-group" ng-class="{\'option-text-single\': !showValue, \'option-text\': showValue}">\r\n\t\t\t\t\t<span class="input-group-addon">\r\n\t\t\t\t\t\t<input type="radio" ng-if="component.id==\'radio\'" ng-model="component.value" name="optionsRadios" value="{{item.value}}" />\r\n\t\t        \t\t<input type="checkbox" ng-if="component.id==\'checkbox\'" ng-model="component.arrayValue[$index]" name="optionsCheckboxs" />\r\n\t\t        \t\t<input type="checkbox" ng-if="component.id==\'multiple-select\'" ng-click="selectDefault($event,item)" name="optionsCheckboxs" />\r\n\t\t      \t\t</span>\r\n\t\t\t    \t<input type="text" class="form-control" ng-model="item.text" ng-focus="selectOption(item)" ng-change="changeOption(item)" placeholder="选项内容">\r\n\t\t    \t</div>\r\n\t\t  \t</div>\r\n\t\t  \t<div class="form-group" ng-if="showValue">\r\n\t\t\t    <input type="text" class="form-control option-value" ng-model="item.value" placeholder="选项值">\r\n\t\t  \t</div>\r\n\t\t  \t<div class="form-group">\r\n\t\t  \t\t<i class="glyphicon glyphicon-minus clickable" ng-click="removeOption($index)"></i>\r\n\t\t  \t\t<i class="glyphicon glyphicon-plus clickable" ng-click="addOption($index)"></i>\r\n\t\t    \t<i class="glyphicon glyphicon-move moveable"></i>\r\n\t\t   \t</div>\r\n\t\t</div>\r\n\t</div>\r\n</form>\r\n\r\n\r\n\r\n\t\t\r\n\t\t\r\n\r\n\r\n\r\n'),e.put("views/property/property-select-plugin.html",'<label class="radio-inline"> <input type="radio"\r\n\tng-model="component.properties.selectPlugin" value="" />默认\r\n</label>\r\n<label class="radio-inline"> <input type="radio"\r\n\tng-model="component.properties.selectPlugin" value="chosen" />chosen\r\n</label>\r\n\r\n\r\n'),e.put("views/property/property-sign.html",'<select class="form-control" ng-model="component.properties.sign">\r\n  <option value="default">默认</option>\r\n  <option value="success">成功</option>\r\n  <option value="warning">警告</option>\r\n  <option value="primary">重要</option>\r\n  <option value="info">提示</option>\r\n  <option value="danger">错误</option>\r\n</select>'),e.put("views/property/property-tree-options.html",'<form class="form-inline" role="form" ng-controller="fbOptionsController">\r\n\t<span class="label label-default clickable" ng-click="expandAll()"><i class="glyphicon glyphglyphicon glyphicon-eye-open icon-white"></i>展开</span>\r\n\t<span class="label label-default clickable" ng-click="collapseAll()"><i class="glyphicon glyphglyphicon glyphicon-eye-close icon-white"></i>收缩</span>\r\n\t<span class="label label-default clickable" ng-click="changeShow()" ng-if="!showValue"><i class="glyphicon glyphglyphicon glyphicon-retweet icon-white"></i>切换值</span>\r\n\t<span class="label label-default clickable" ng-click="changeShow()" ng-if="showValue"><i class="glyphicon glyphglyphicon glyphicon-retweet icon-white"></i>切换内容</span>\r\n\t<h4 class="under-line"></h4>\r\n\t<div class="form-group" ng-if="!showValue"><label>选项内容</label></div>\r\n\t<div class="form-group" ng-if="showValue"><label>选项值</label></div>\r\n\t\r\n\t<div ui-tree id="tree-root">\r\n      <ol ui-tree-nodes ng-model="component.properties.treeOptions">\r\n        <li ng-repeat="item in component.properties.treeOptions" ng-init="level=1" ui-tree-node ng-include="\'fb-tree-options.html\'"></li>\r\n      </ol>\r\n    </div>\r\n</form>\r\n\r\n <script type="text/ng-template" id="fb-tree-options.html">\r\n\t <div class="tree-node tree-node-content">\r\n\t\t\t<div class="form-group">\r\n\t\t  \t\t<i style="width: 14px;" class="glyphicon clickable" ng-if="item.children && item.children.length == 0" ></i>\r\n\t\t  \t\t<i class="glyphicon clickable" ng-class ="{\'glyphicon-chevron-right\': collapsed,\'glyphicon-chevron-down\': !collapsed}" ng-if="item.children && item.children.length > 0" data-nodrag ng-click="toggle(this)"></i>\r\n\t\t   \t</div>\r\n\r\n    \t\t<div class="form-group">\r\n\t\t\t\t<div class="input-group tree-option">\r\n\t\t\t\t\t<span class="input-group-addon" ng-if="component.arrayValue[level-1].value==$parent.$parent.item.value||level==1" \r\n\t\t\t\t\t\tng-init="component.arrayValue[level]=component.arrayValue[level-1].children.indexOf(component.arrayValue[level])>=0?component.arrayValue[level]:component.arrayValue[level-1].children[0]">\r\n\t\t\t\t\t\t<input type="radio" ng-model="component.arrayValue[level]"  ng-value="item" />\r\n\t\t        \t</span>\r\n\t\t\t   \t \t<input type="text" ng-if="!showValue" class="form-control" ng-model="item.text"\r\n\t\t\t    \t\t\tng-focus="selectOption(item)" ng-change="changeOption(item)" placeholder="选项内容">\r\n\r\n\t\t\t   \t\t<input type="text" ng-if="showValue" class="form-control" ng-model="item.value" placeholder="选项值">\r\n\t\t\t\t</div>\r\n\t\t  \t</div>\r\n\t\t\t<div class="form-group">\r\n\t\t  \t\t<i class="glyphicon glyphicon-minus clickable" ng-click="removeTreeOption(this)"></i>\r\n\t\t  \t\t<i class="glyphicon glyphicon-plus clickable" ng-click="addTreeOption(this)"></i>\r\n\t\t    \t<i class="glyphicon glyphicon-move moveable"  ui-tree-handle></i>\r\n\t\t   \t</div>\r\n  \t</div>\r\n  \t<ol ui-tree-nodes="" ng-model="item.children" ng-class="{hidden: collapsed}">\r\n    \t<li ng-repeat="item in item.children" ui-tree-node ng-include="\'fb-tree-options.html\'" ng-init="level=$parent.level+1">\r\n    \t</li>\r\n \t</ol>\r\n  <\/script>\r\n\r\n\r\n\r\n\t\t\r\n\t\t\r\n\r\n\r\n\r\n'),e.put("views/property/property-validation.html",'<label class="radio-inline"> <input type="radio"\r\n\tng-model="component.properties.validation" value="/.*/" />无\r\n</label>\r\n<label class="radio-inline"> <input type="radio"\r\n\tng-model="component.properties.validation" value="[number]" />数字\r\n</label>\r\n<label class="radio-inline"> <input type="radio"\r\n\tng-model="component.properties.validation" value="[url]" />网址\r\n</label>\r\n<label class="radio-inline"> <input type="radio"\r\n\tng-model="component.properties.validation" value="[email]" />邮件\r\n</label>\r\n\r\n\r\n'),e.put("views/property/property-visible.html",'<label class="radio-inline"> \r\n\t<input type="radio" ng-model="component.properties.visible" value="" />正常\r\n</label>\r\n<label class="radio-inline" ng-if="[\'text\',\'textarea\'].indexOf(component.id)>=0"> \r\n\t<input type="radio" ng-model="component.properties.visible" value="readonly" />只读\r\n</label>\r\n<label class="radio-inline"> \r\n\t<input type="radio" ng-model="component.properties.visible" value="disabled" />禁用\r\n</label>\r\n<label class="radio-inline"> \r\n\t<input type="radio" ng-model="component.properties.visible" value="hidden" />隐藏\r\n</label>\r\n\r\n\r\n'),e.put("views/property/property-width.html",'<input ng-model="component.properties.style.width" class="form-control" type="text"></input>\r\n\r\n'),e.put("views/template/template-alert.html",'<div class="nav-view form-group">{{component.title}}</div>\r\n<div class="view">\r\n\t<div class="{{\'alert alert-\'+component.properties.alert}}" ng-style="component.properties.style">\r\n\t\t<button ng-if="component.properties.close" type="button" class="close" data-dismiss="alert">×</button>\r\n\t\t<p ng-bind-html="component.properties.html | to_trusted"></p>\r\n\t</div>\r\n</div>\r\n'),e.put("views/template/template-checkbox.html",'<div class="nav-view form-group">{{component.title}}</div>\r\n<div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}">\r\n\t<label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label>\r\n\t<div ng-style="component.properties.style">\r\n\t\t<input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator>\r\n\t\t\r\n\t\t<div class="row" ng-if="component.properties.columns!=\'auto\'">\r\n\t\t\t<div class="{{\'col-xs-\'+ 12/component.properties.columns}}" ng-repeat="num in [1,2,3,4,5,6]| limitTo: component.properties.columns" >\r\n\t\t\t\t<div class="checkbox" ng-repeat="item in component.properties.options">\r\n\t\t\t\t\t<label ng-if="$index% (component.properties.columns)== $parent.$index">\r\n\t\t\t\t\t\t<input type="checkbox" ng-model="component.arrayValue[$index]" ng-disabled="component.properties.visible==\'disabled\'"/>{{item.text}} \r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div class="checkbox" ng-if="component.properties.columns==\'auto\'">\r\n\t\t\t<label class="checkbox-inline" ng-repeat="item in component.properties.options">\r\n\t\t\t\t<input type="checkbox" ng-model="component.arrayValue[$index]" ng-disabled="component.properties.visible==\'disabled\'"/> {{item.text}} \r\n\t\t\t</label>\r\n\t\t</div>\r\n\t\t\r\n\t\t<p class="help-block">{{component.properties.description}}</p>\r\n\t</div>\r\n</div>'),e.put("views/template/template-column.html",'<div class="nav-view form-group">\r\n\t<input ng-model="component.value" ng-change="changeColNum()" class="form-control" type="text">\r\n</div>\r\n<div class="view" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}">\r\n\t<div class="row row-view clearfix">\r\n\t\t<div class="{{\'col-xs-\'+ num}}" ng-repeat="num in component.arrayValue track by $index">\r\n\t\t\t<div fb-builder="component.forms[$index]" ng-if="!showForm"></div>\r\n\t\t\t<div fb-form="component.forms[$index]" ng-model="data" ng-if="showForm"></div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'),e.put("views/template/template-datetime.html",'<div class="nav-view form-group">{{component.title}}</div>\r\n<div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}">\r\n\t<label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label>\r\n\t<div>\r\n\t\t<input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator>\r\n\t\t\r\n\t\t<div class="input-group" ng-style="component.properties.style">\r\n\t\t\t<input type="text" class="form-control" id="{{component.properties.overrideId}}"\r\n\t\t\t\tfb-datetime="component.properties.dateOptions" ng-model="component.value"\r\n\t\t\t\tng-disabled="component.properties.visible==\'disabled\'" placeholder="{{component.properties.placeholder}}">\r\n\t\t\t</input> \r\n\t\t\t<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>\r\n\t\t</div>\r\n\t\t<p class="help-block">{{component.properties.description}}</p>\r\n\t</div>\r\n\r\n\r\n</div>'),e.put("views/template/template-file.html",'<div class="nav-view form-group">{{component.title}}</div>\r\n<div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}">\r\n\t<label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label>\r\n\t<div ng-style="component.properties.style">\r\n\t\t<input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator>\r\n\t\t\r\n\t\t<input type="file" class="form-control" id="{{component.properties.overrideId}}" \r\n\t\t\tmultiple fb-file-input="component.properties.fileOptions" ng-model="component.value" \r\n\t\t\tng-disabled="component.properties.visible==\'disabled\'">\r\n\t\t<p class="help-block">{{component.properties.description}}</p>\r\n\t</div>\r\n</div>'),e.put("views/template/template-html.html",'<div class="nav-view form-group">{{component.title}}</div>\r\n<div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}">\r\n\t<label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label>\r\n\t<div ng-style="component.properties.style">\r\n\t\t<input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator>\r\n    \r\n\t\t<div id="{{component.properties.overrideId}}" fb-html ng-model="component.value" \r\n\t\t\tng-disabled="component.properties.visible==\'disabled\'">\r\n\t\t</div>\r\n\t\t<p class="help-block">{{component.properties.description}}</p>\r\n\t</div>\r\n</div>\r\n\r\n'),e.put("views/template/template-label.html",'<div class="nav-view form-group">{{component.title}}</div>\r\n<div class="view">\r\n\t<span class="{{\'label label-\'+component.properties.sign}}">{{component.properties.content}}</span> \r\n</div>\r\n'),e.put("views/template/template-multiple-select.html",'<div class="nav-view form-group">{{component.title}}</div>\r\n<div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}">\r\n\t<label for="{{component.properties.overrideId}}" class="control-label"  ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label>\r\n\t<div ng-style="component.properties.style">\r\n\t\t<input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator>\r\n\t\t\r\n\t\t<select class="form-control" multiple id="{{component.properties.overrideId}}" \r\n\t\t\tng-if="component.properties.selectPlugin==\'\'" \r\n            ng-model="component.arrayValue"\r\n\t\t\tng-disabled="component.properties.visible==\'disabled\'" \r\n\t\t\tng-options="option.text for option in component.properties.options">\r\n\t\t</select>\r\n\t\t\r\n\t\t<select class="form-control" multiple chosen id="{{component.properties.overrideId}}" \r\n\t\t\tng-if="component.properties.selectPlugin==\'chosen\'" \r\n\t\t\tng-model="component.arrayValue"\r\n\t\t\tng-disabled="component.properties.visible==\'disabled\'" \r\n\t\t\tplaceholder-text-multiple="\'选择一些选项\'"\r\n\t\t\tno-results-text="\'没有结果匹配\'"\r\n\t\t\tng-options="option.text for option in component.properties.options">\r\n\t\t</select>\r\n\t\t\r\n\t\t<p class="help-block">{{component.properties.description}}</p>\r\n\t</div>\r\n</div>'),e.put("views/template/template-radio.html",'<div class="nav-view form-group">{{component.title}}</div>\r\n<div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}">\r\n\t<label for="{{component.properties.overrideId}}" class="control-label">{{component.properties.label}}</label>\r\n\t<div ng-style="component.properties.style" ng-init="component.value=component.value==null?component.properties.options[0].value:component.value">\r\n\t\t<input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator>\r\n\t\t\r\n\t\t<div class="row" ng-if="component.properties.columns!=\'auto\'">\r\n\t\t\t<div class="{{\'col-xs-\'+ 12/component.properties.columns}}" ng-repeat="num in [1,2,3,4,5,6]| limitTo: component.properties.columns">\r\n\t\t\t\t<div class="radio" ng-repeat="item in component.properties.options">\r\n\t\t\t\t\t<label ng-if="$index% (component.properties.columns)== $parent.$index"> \r\n\t\t\t\t\t\t<input type="radio" ng-model="component.value" ng-disabled="component.properties.visible==\'disabled\'" value="{{item.value}}" /> {{item.text}}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class="radio" ng-if="component.properties.columns==\'auto\'">\r\n\t\t\t<label class="radio-inline" ng-repeat="item in component.properties.options"> \r\n\t\t\t\t<input type="radio" ng-model="component.value" ng-disabled="component.properties.visible==\'disabled\'" value="{{item.value}}" /> {{item.text}}\r\n\t\t\t</label>\r\n\t\t</div>\r\n\r\n\t\t<p class="help-block">{{component.properties.description}}</p>\r\n\t</div>\r\n</div>'),e.put("views/template/template-select.html",'<div class="nav-view form-group">{{component.title}}</div>\r\n<div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}">\r\n\t<label for="{{component.properties.overrideId}}" class="control-label">{{component.properties.label}}</label>\r\n\t<div ng-style="component.properties.style">\r\n\t\t<input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator>\r\n\t\t\r\n\t\t<div class="row" ng-init="component.arrayValue[0]={};component.arrayValue[0].children = component.properties.treeOptions">\r\n\t\t\t<div ng-if="component.properties.selectPlugin==\'\'" class="{{\'col-xs-\'+ 12/component.properties.level}}" \r\n\t\t\t\tng-repeat="num in [1,2,3,4,5,6]" > \r\n\t\t\t\t<select class="form-control" ng-if="num<=component.properties.level" ng-disabled="component.properties.visible==\'disabled\'"\r\n\t\t\t\t\tng-init="component.arrayValue[$index+1]=component.arrayValue[$index+1]==null?component.arrayValue[$index].children[0]:component.arrayValue[$index+1]"\r\n\t\t\t\t\tng-change="component.arrayValue[$index+2]=component.arrayValue[$index+1].children[0]"\r\n\t\t\t\t\tng-options="option.text for option in component.arrayValue[$index].children" \r\n\t\t\t\t\tng-model="component.arrayValue[$index+1]">\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n          \r\n          \t<div ng-if="component.properties.selectPlugin==\'chosen\'" class="{{\'col-xs-\'+ 12/component.properties.level}}" \r\n          \t\tng-repeat="num in [1,2,3,4,5,6]"> \r\n\t\t\t\t<select chosen class="form-control" ng-if="num<=component.properties.level" ng-disabled="component.properties.visible==\'disabled\'" \r\n\t\t\t\t\tplaceholder-text-single="\'选择一个选项\'"\r\n\t\t\t\t\tno-results-text = "\'没有结果匹配\'"\r\n\t\t\t\t\tng-init="component.arrayValue[$index+1]=component.arrayValue[$index+1]==null?component.arrayValue[$index].children[0]:component.arrayValue[$index+1]"\r\n\t\t\t\t\tng-change="component.arrayValue[$index+2]=component.arrayValue[$index+1].children[0]"\r\n\t\t\t\t\tng-options="option.text for option in component.arrayValue[$index].children" \r\n\t\t            ng-model="component.arrayValue[$index+1]">\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t<p class="help-block">{{component.properties.description}}</p>\r\n\t</div>\r\n</div>'),e.put("views/template/template-text.html",'<div class="nav-view form-group">{{component.title}}</div>\r\n<div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}">\r\n\t<label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label>\r\n\t<div class="">\r\n\t\t<input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator="{{component.properties.validation}}">\r\n\t\t\r\n\t\t<input type="text" class="form-control" id="{{component.properties.overrideId}}" ng-model="component.value" \r\n\t\t\tng-disabled="component.properties.visible==\'disabled\'"  ng-readonly="component.properties.visible==\'readonly\'"  \r\n\t\t\tplaceholder="{{component.properties.placeholder}}" ng-style="component.properties.style">\r\n\t\t</input>\r\n\t\t<p class="help-block">{{component.properties.description}}</p>\r\n\t</div>\r\n</div>'),e.put("views/template/template-textarea.html",'<div class="nav-view form-group">{{component.title}}</div>\r\n<div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}">\r\n\t<label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label>\r\n\t<div>\r\n\t\t<input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator>\r\n\t\t\r\n\t\t<textarea class="form-control" id="{{component.properties.overrideId}}" ng-model="component.value"\r\n\t\t\tng-disabled="component.properties.visible==\'disabled\'"  ng-readonly="component.properties.visible==\'readonly\'"\r\n\t\t\tplaceholder="{{component.properties.placeholder}}" ng-style="component.properties.style" rows="{{component.properties.rows}}">\r\n\t\t</textarea>\r\n\t\t<p class="help-block">{{component.properties.description}}</p>\r\n\t</div>\r\n</div>'),e.put("views/template/template-title.html",'<div class="nav-view form-group">{{component.title}}</div>\r\n<div class="view">\r\n\t<div ng-class="{\'page-header\': component.properties.page}">\r\n\t\t<p ng-bind-html="component.properties.html | to_trusted"></p>\r\n\t</div>\r\n</div>\r\n')}]);